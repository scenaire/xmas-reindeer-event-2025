/**
 * ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏û‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó Bubble
 * @param {string} text - ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£
 * @returns {string} - ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó Bubble ('chaos', 'money', 'love', 'default')
 */
export function analyzeWish(text) {
    if (!text) return 'default';

    // ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡πá‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô
    const lowerText = text.toLowerCase();

    // 1. üî• CHAOS: ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏±‡πà‡∏ô‡∏õ‡πà‡∏ß‡∏ô, ‡∏ú‡∏µ, ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á, Error
    const chaosKeywords = [
        '‡∏ú‡∏µ', 'ghost', 'dead', '‡∏ï‡∏≤‡∏¢', 'kill', '‡∏Ü‡πà‡∏≤', '‡πÄ‡∏•‡∏∑‡∏≠‡∏î', 'blood',
        '‡∏ö‡∏¥‡∏î', 'scam', '‡πÇ‡∏Å‡∏á', '‡∏Ç‡πÇ‡∏°‡∏¢', '‡∏à‡∏Å', '‡∏à‡∏¥‡πä‡∏Å',
        '‡∏°‡∏µ‡∏î', 'knife', '‡πÅ‡∏ó‡∏á', '‡∏õ‡∏∑‡∏ô', 'gun', '‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î',
        'error', 'bug', 'glitch', 'console.log', 'throw new', // ‡πÇ‡∏Ñ‡πâ‡∏î
        '‡∏õ‡∏ß‡∏î‡∏´‡∏•‡∏±‡∏á', '‡∏ó‡∏£‡∏°‡∏≤‡∏ô', '‡πÄ‡∏à‡πá‡∏ö', '‡∏õ‡πà‡∏ß‡∏¢', 'saab', '‡∏™‡∏≤‡∏õ', '‡πÅ‡∏ä‡πà‡∏á',
        'salt', '‡πÄ‡∏Å‡∏•‡∏∑‡∏≠' // ‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡πÉ‡∏ô‡∏Å‡∏≤‡∏ä‡∏≤‡∏à‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏à‡πá‡∏ö‡∏õ‡∏ß‡∏î (Chaos) ‡∏´‡∏£‡∏∑‡∏≠ Money ‡∏Å‡πá‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡πÉ‡∏´‡πâ Chaos ‡πÄ‡∏î‡πà‡∏ô‡∏Å‡∏ß‡πà‡∏≤
    ];

    if (chaosKeywords.some(word => lowerText.includes(word))) {
        return 'chaos';
    }

    // 2. üí∞ MONEY: ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô, ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏ß‡∏¢, ‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏†, ‡∏Å‡∏≤‡∏ä‡∏≤(‡πÅ‡∏á‡πà‡∏î‡∏µ)
    const moneyKeywords = [
        '‡πÄ‡∏á‡∏¥‡∏ô', 'money', '‡∏£‡∏ß‡∏¢', 'rich', 'wealth',
        '‡∏´‡∏ß‡∏¢', 'lotto', '‡∏ñ‡∏π‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•', '‡πÇ‡∏ä‡∏Ñ', 'luck',
        '‡∏Å‡∏≤‡∏ä‡∏≤', 'gacha', 'rate', '‡πÄ‡∏£‡∏ó', 'divine', 'ssr', 'ur', 'drop',
        '‡πÄ‡∏û‡∏ä‡∏£', 'diamond', 'gem', '‡∏ó‡∏≠‡∏á', 'gold',
        '‡∏ó‡∏∏‡∏ô', 'profit', '‡∏Å‡∏≥‡πÑ‡∏£', '‡∏´‡∏ô‡∏µ‡πâ' // ‡∏´‡∏ô‡∏µ‡πâ = ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏á‡∏¥‡∏ô
    ];

    if (moneyKeywords.some(word => lowerText.includes(word))) {
        return 'money';
    }

    // 3. üíó LOVE: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å, ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç, ‡πÅ‡∏ü‡∏ô
    const loveKeywords = [
        '‡∏£‡∏±‡∏Å', 'love', '‡∏ä‡∏≠‡∏ö', 'like', '‡πÉ‡∏à', 'heart',
        '‡πÅ‡∏ü‡∏ô', 'boyfriend', 'girlfriend', 'gf', 'bf',
        '‡πÅ‡∏ï‡πà‡∏á‡∏á‡∏≤‡∏ô', 'marry', '‡πÇ‡∏™‡∏î', 'single', '‡∏à‡∏µ‡∏ö',
        '‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å', 'cute', '‡∏™‡∏ß‡∏¢', '‡∏´‡∏•‡πà‡∏≠', 'beautiful', 'handsome',
        '‡∏¢‡∏¥‡πâ‡∏°', 'smile', '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç', 'happy'
    ];

    if (loveKeywords.some(word => lowerText.includes(word))) {
        return 'love';
    }

    // 4. ‚òÅÔ∏è DEFAULT: ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô‡πÄ‡∏•‡∏¢
    return 'default';
}